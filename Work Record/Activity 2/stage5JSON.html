<!DOCTYPE html>
<html>
<head>
	<title>Stage 5 JSON Activity</title>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

	<style>

		.home {

	    	position: fixed;
	   		top: 10px;
	    	right: 10px;
	    	z-index: 2;
	    }

		.btn {
	    	background-color: lightgrey;
	    	border-radius: 20px;
	    	font-size: 20px;

		}




	</style>

</head>
<body>


<div class = "home">
    <form action = "../WRindex.html">
      <input class = "btn" type="submit" value = "HOME">
    </form>
</div>

<h1>HIV Infection Rates Compared Proportionally By Country<h1>

<div id = "content"><p></p>
   </div>

<script>

	
   var staticUrl = 'https://raw.githubusercontent.com/PMiskew/pmiskew.github.io/master/Activity%202/data/HIVinfection.json';

    //The $ sign is a way of accessing your JQuery functions.  In this case
    //we are accessing the function getJSON. We set the URL to the address
    //and data is the variable that generates the information
    $.getJSON(staticUrl, function(data) {
        
    	//the window object contains all the information about the current tab. 
   		iw = window.innerWidth - 100; //access the width of the inner window
        
       
   		vals = []
    	for (i = 0; i < 193; i++) {
			country = data.fact[i].Value;
	        val = parseInt(country.substring(0,country.indexOf("[")).replace(" ",""))
	        
	        document.getElementById("content").style.width = val+"px";

			document.getElementById("p1").innerHTML += "<pre>" + data.fact[i].dims.COUNTRY + " : " + val + "</pre>"

			vals.push(val)
		}

		largest = Math.max(largest, vals)





    });
    


</script>


</body>
</html>